<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ゆっくりココナッツ 公式サイト</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <nav class="navbar">
        <div class="nav-container">
            <ul>
                <li><a href="index.html" class="active">ホーム</a></li>
                <li><a href="announcements.html">お知らせ</a></li>
                <li><a href="blog.html">ブログ</a></li>
            </ul>
            <button class="theme-toggle" id="theme-toggle" title="テーマを切り替え">
                <span id="theme-icon">☀️</span>
            </button>
        </div>
    </nav>
    <main class="container">
        <h1 class="text-outline">ゆっくりココナッツ 公式サイトへようこそ</h1>

        <!-- 1. 最新のコンテンツ（ブログ・お知らせ） -->
        <div
            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
            <div>
                <h2 class="text-outline" style="font-size: 1.5rem;">最新のブログ記事</h2>
                <div id="latest-post-container">
                    <!-- JavaScriptでここに最新記事が入ります -->
                </div>
            </div>
            <div>
                <h2 class="text-outline" style="font-size: 1.5rem;">最新のお知らせ</h2>
                <div id="latest-announcement-container">
                    <!-- JavaScriptでここに最新のお知らせが入ります -->
                </div>
            </div>
        </div>

        <!-- 2. 自己紹介カード -->
        <div class="post-card">
            <p>ゆっくりココナッツのサイトです！頑張ってAIといっしょに作りました。</p>
            <p>このサイトではダークモードとライトモードを切り替えられるようになりました。</p>
            <p>今後から色々な機能を追加していく予定です。</p>
        </div>

        <!-- 3. YouTubeセクション（動画 + 登録ボタン） -->
        <div class="post-card" style="margin-top: 2rem;">
            <h2 style="text-align: center; margin-bottom: 1rem;">YouTube 最新動画</h2>
            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/kKWYwJGSnpM" allowfullscreen></iframe>
            </div>
            <div style="text-align: center; margin-top: 1.5rem;">
                <p style="margin-bottom: 1rem; font-weight: bold;">最新の動画をチェックしよう！</p>
                <a href="https://www.youtube.com/channel/UC9LpqPFPOh650jI6mO9Z2Xg" target="_blank"
                    class="subscribe-btn">
                    <span>▶</span> チャンネル登録をする
                </a>
            </div>
        </div>
    </main>

    <script src="blog-posts.js"></script>
    <script src="announcements.js"></script>
    <script>
        // Latest Content Logic
        function loadLatestContent() {
            // Load Blog
            const blogContainer = document.getElementById('latest-post-container');
            if (window.blogPosts && window.blogPosts.length > 0) {
                const post = window.blogPosts[0];
                blogContainer.innerHTML = `
                    <div class="post-card" style="height: 100%;">
                        <p class="post-date">${post.date}</p>
                        <h3 style="margin: 0.5rem 0;">${post.title}</h3>
                        <a href="${post.url}" class="subscribe-btn" style="display: inline-block; margin-top: 10px; text-decoration: none; font-size: 0.9rem; padding: 5px 15px;">記事を読む</a>
                    </div>
                `;
            } else {
                blogContainer.innerHTML = '<p>まだ記事がありません。</p>';
            }

            // Load Announcement
            const newsContainer = document.getElementById('latest-announcement-container');
            if (window.announcements && window.announcements.length > 0) {
                const news = window.announcements[0];
                newsContainer.innerHTML = `
                    <div class="post-card" style="height: 100%;">
                        <p class="post-date">${news.date}</p>
                        <h3 style="margin: 0.5rem 0;">${news.title}</h3>
                        <a href="${news.url}" class="subscribe-btn" style="display: inline-block; margin-top: 10px; text-decoration: none; font-size: 0.9rem; padding: 5px 15px;">詳細を見る</a>
                    </div>
                `;
            } else {
                newsContainer.innerHTML = '<p>まだお知らせはありません。</p>';
            }
        }

        loadLatestContent();

        // Theme logic
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = document.getElementById('theme-icon');
        const root = document.documentElement;
        const savedTheme = localStorage.getItem('theme') || 'light';
        root.setAttribute('data-theme', savedTheme);
        themeIcon.textContent = savedTheme === 'dark' ? '🌙' : '☀️';

        themeToggle.addEventListener('click', () => {
            const currentTheme = root.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            root.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            themeIcon.textContent = newTheme === 'dark' ? '🌙' : '☀️';
        });
    </script>
</body>

</html>